<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Handsome Day</title>
<style>
  body { margin:0; font-family:'Segoe UI', sans-serif; background:linear-gradient(to bottom,#fffaf3,#fdfdfd); overflow:hidden; text-align:center; }
  .container { min-height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column; padding:20px; position:relative; z-index:2; }
  input, button { padding:10px 16px; margin:6px; border-radius:10px; border:2px solid #e0c9a6; font-size:16px; }
  button { cursor:pointer; background:#f7e8d0; transition:0.3s; }
  button:hover { background:#f1d9b0; }
  .hidden { display:none; }
  .note { background:rgba(255,255,255,0.9); border:3px solid #f7e8d0; border-radius:20px; padding:20px; max-width:500px; text-align:justify; box-shadow:0 4px 10px rgba(0,0,0,0.1); font-size:18px; }
  .slide { font-size:28px; font-weight:bold; color:#e07b91; min-height:40px; margin-top:20px; }
  .heart { position:absolute; width:20px;height:20px; background:pink; transform:rotate(45deg); animation:float 6s infinite ease-in; opacity:0.6; z-index:1; }
  .heart::before, .heart::after { content:''; position:absolute; width:20px;height:20px; background:pink; border-radius:50%; }
  .heart::before { top:-10px; left:0; }
  .heart::after { left:-10px; top:0; }
  @keyframes float { 0%{transform:translateY(100vh) scale(0.8) rotate(45deg);} 100%{transform:translateY(-10vh) scale(1.2) rotate(45deg);} }
  .confetti { position:absolute; width:10px; height:10px; opacity:0.8; z-index:3; }
  .typewriter { display:inline-block; border-right:2px solid #e07b91; white-space:nowrap; overflow:hidden; }
  .falling-emoji { position:absolute; font-size:24px; top:-50px; z-index:1; animation: fall linear forwards; }
  @keyframes fall { to { transform: translateY(100vh); opacity:0; } }
  .nav-btns { margin-top:20px; }
</style>
</head>
<body>

<!-- Musik -->
<audio id="bgMusic" loop>
  <source src="msx_ki_7443831582294560007.mp3" type="audio/mpeg">
</audio>

<div class="container" id="app">
  <button id="playMusic" style="font-size:20px; margin-bottom:15px;">üé∂ Play Music üé∂</button>

  <div id="dateStep">
    <h2>Masukin tanggal jadian kita üíï</h2>
    <input id="dateInput" placeholder="dd-mm-yy" />
    <button onclick="checkDate()">Submit</button>
  </div>

  <div id="foodStep" class="hidden">
    <h2>Aku lebih suka makan apa? üçú</h2>
    <button onclick="checkFood('mie')">Mie Ayam</button>
    <button onclick="checkFood('bakso')">Bakso</button>
  </div>

  <div id="wrongStep" class="hidden">
    <h2>√ó TTETTOT √ó ‚ùå</h2>
    <h3>Coba jawab lagi yaa üíï</h3>
    <button onclick="checkDrink('air')">Air Mineral</button>
    <button onclick="checkDrink('boba')">Boba</button>
  </div>

  <div id="noteStep" class="hidden">
    <div class="note" id="noteText"></div>
    <div class="nav-btns">
      <button onclick="enableSlides()">Next ‚û°Ô∏è</button>
    </div>
  </div>

  <div id="slides" class="hidden">
    <div class="slide" id="slideText"></div>
    <div class="nav-btns">
      <button onclick="prevSlide()">‚¨ÖÔ∏è Prev</button>
      <button onclick="nextSlide()">Next ‚û°Ô∏è</button>
    </div>
  </div>
</div>

<script>
  const music = document.getElementById("bgMusic");
  document.getElementById("playMusic").onclick = () => music.play();

  // Floating hearts
  for(let i=0;i<25;i++){
    let heart = document.createElement("div");
    heart.className="heart";
    heart.style.left=Math.random()*100+"vw";
    heart.style.animationDuration=4+Math.random()*4+"s";
    document.body.appendChild(heart);
  }

  // Emoji jatuh
  function spawnEmoji(){
    const emojis=["üíñ","üå∏","üê¢"];
    const e=document.createElement("div");
    e.className="falling-emoji";
    e.style.left=Math.random()*100+"vw";
    e.style.animationDuration=3+Math.random()*3+"s";
    e.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),6000);
  }
  setInterval(spawnEmoji,300);

  // Confetti
  function launchConfetti(){
    for(let i=0;i<50;i++){
      let c=document.createElement("div");
      c.className="confetti";
      c.style.left=Math.random()*100+"vw";
      c.style.top=Math.random()*100+"vh";
      c.style.background=`hsl(${Math.random()*360}, 80%, 60%)`;
      document.body.appendChild(c);
      setTimeout(()=>c.remove(),3000);
    }
  }

  // Typewriter
  function typeWriter(el,text,speed=50,cb=null){
    let i=0; el.innerHTML='';
    let interval=setInterval(()=>{
      el.innerHTML+=text.charAt(i); i++;
      if(i>=text.length){ clearInterval(interval); if(cb) cb(); }
    },speed);
  }

  let slideIndex=0;
  const slidesText=[
    "I Love You sangat banyak ganteng üíñ",
    "Papaiiii üå∏üê¢",
    "Kamu selalu jadi yang terbaik üíò\n\nDari perempuan centil dan tengil yg ucuu dan cantik ‚ú®üíêüíñ"
  ];

  function checkDate(){
    const val=document.getElementById("dateInput").value;
    if(val==="21-04-25"){
      document.getElementById("dateStep").classList.add("hidden");
      document.getElementById("foodStep").classList.remove("hidden");
    }else{ alert("Coba lagi ya sayang ‚ú®"); }
  }
  function checkFood(choice){
    document.getElementById("foodStep").classList.add("hidden");
    if(choice==="bakso"){ showNote(); } else { document.getElementById("wrongStep").classList.remove("hidden"); }
  }
  function checkDrink(choice){
    document.getElementById("wrongStep").classList.add("hidden");
    if(choice==="air"){ showNote(); } else { document.getElementById("foodStep").classList.remove("hidden"); }
  }

  function showNote(){
    document.getElementById("noteStep").classList.remove("hidden");
    const note="Happy Handsome day bebbi... Gantengku, sayangku, cintaku, lucuu, menggemaskan dan yang palinggg membuat aku nyamann... timakasi banyak untuk kehadirannya ya sayang.. aku bakal selalu berusaha membuat bebbi happy, bahagia, nyaman, aman, dan selalu jadi yang terbaik setelah keluarga bebbi. Aku bener2 love bebbi banyak2, aku harap, semoga kita selalu bersama yaa....";
    typeWriter(document.getElementById("noteText"),note,30);
  }

  function enableSlides(){
    document.getElementById("noteStep").classList.add("hidden");
    document.getElementById("slides").classList.remove("hidden");
    slideIndex=0;
    typeWriter(document.getElementById("slideText"),slidesText[slideIndex]);
    launchConfetti();
  }

  function nextSlide(){
    slideIndex++; if(slideIndex>=slidesText.length) slideIndex=0;
    typeWriter(document.getElementById("slideText"),slidesText[slideIndex]);
  }
  function prevSlide(){
    slideIndex--; if(slideIndex<0) slideIndex=slidesText.length-1;
    typeWriter(document.getElementById("slideText"),slidesText[slideIndex]);
  }
</script>

</body>
  </html>
